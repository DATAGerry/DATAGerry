<form id="group-form" [formGroup]="form" (ngSubmit)="onSubmit()">
  <div class="form-group row">
    <label for="group-form-name" class="col-sm-2 col-form-label">Name: <span class="required">*</span></label>
    <div class="col-sm-10">
      <input name-guideline type="text" formControlName="name" class="form-control" placeholder="Name"
             id="group-form-name" [ngClass]="{ 'is-valid': nameControl.valid && (nameControl.dirty || nameControl.touched),
                 'is-invalid': nameControl.invalid && (nameControl.dirty || nameControl.touched)}" lowercase>
      <div *ngIf="nameControl.invalid && (nameControl.dirty || nameControl.touched)"
           class="invalid-feedback">
        <div class="float-right" *ngIf="nameControl.errors.required">
          Name is required
        </div>
        <div class="float-right" *ngIf="nameControl.errors.groupNameExists">
          Group with this name already exists
        </div>
        <div class="clearfix"></div>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label for="group-form-label" class="col-sm-2 col-form-label">Label: <span class="required">*</span></label>
    <div class="col-sm-10">
      <input type="text" formControlName="label" class="form-control" placeholder="Label" id="group-form-label"
             [ngClass]="{ 'is-valid': labelControl.valid && (labelControl.dirty || labelControl.touched),
                 'is-invalid': labelControl.invalid && (labelControl.dirty || labelControl.touched)}">
      <div *ngIf="labelControl.invalid && (labelControl.dirty || labelControl.touched)"
           class="invalid-feedback">
        <div class="float-right" *ngIf="labelControl.errors.required">
          Label is required
        </div>
        <div class="clearfix"></div>
      </div>
    </div>
  </div>
  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Rights: <span class="required">*</span></label>
    <div class="col-sm-10">
      <ng-select class="form-control" [items]="rights" [multiple]="true" bindLabel="name" bindValue="name"
                 [groupBy]="groupByFn" [selectableGroup]="true" [selectableGroupAsModel]="false"
                 [closeOnSelect]="false" [ngClass]="{ 'is-valid': rightsControl.valid
                 && (rightsControl.dirty || rightsControl.touched),
                 'is-invalid': rightsControl.invalid && (rightsControl.dirty || rightsControl.touched)}"
                 formControlName="rights">
      </ng-select>
    </div>
  </div>
  <hr />
  <div class="d-flex flex-row-reverse">
    <button type="submit" class="btn btn-success" [disabled]="form.invalid">Save</button>
    <button type="reset" class="btn btn-secondary">Reset</button>
    <button [routerLink]="['/', 'management', 'groups']" type="button" class="btn ml-2 btn-outline-danger">Cancel</button>
  </div>
</form>



  <div class="card-title" style="padding-top: 1em">
    <cmdb-content-header title="{{pageTitle}}"></cmdb-content-header>
  </div>

  <div class="card-body" style="padding: 0 0 1em 0;">
    <button *ngIf="showDeleteSelected" type="button" class="btn btn-danger btn-sm" (click)="delManyObjects()">Delete Selected</button>

    <span class="card-group float-right" *ngIf="showExport">
      <div class="btn-group">
        <button type="button" id="importButton" class="btn btn-warning btn-sm dropdown-toggle mr-1"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-upload" aria-hidden="true"></i> Import
        </button>
        <ul class="dropdown-menu" aria-labelledby="importButton">
          <li class="dropdown-item" *ngFor="let item of formatList">
            <i class="fa {{item.icon}}"></i> {{item.label}}
          </li>
        </ul>
      </div>

      <div class="btn-group">
        <button type="button" id="exportButton" class="btn btn-warning btn-sm dropdown-toggle"
                data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
          <i class="fa fa-download" aria-hidden="true"></i> Export
        </button>
        <ul class="dropdown-menu" aria-labelledby="exportButton">
          <li class="dropdown-item" *ngFor="let item of formatList"
              (click)="exporter(item)">
            <i class="fa {{item.icon}}"></i> {{item.label}}
          </li>
        </ul>
      </div>
    </span>
  </div>

  <table datatable [dtOptions]="dtOptions" [dtTrigger]="dtTrigger"  class="table table-striped table-bordered">
    <thead>
    <tr>
      <th *ngIf="showDeleteSelected && showExport" class="toggle-check nosort" style="text-align: center"><input type="checkbox" class="select-all-checkbox" (click)="selectAll()">
      </th>
      <th class="toggle-active">Active</th>
      <th class="toggle-id">ID</th>
      <th class="toggle-type">Type</th>
      <th class="toggle-autor">Author</th>
      <th class="toggle-create-time">Creation Time</th>
      <th class="toggle-action">Action</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let entry of entryLists">

      <!-- table entries -->
      <td *ngIf="showDeleteSelected && showExport" style="text-align: center">
        <input id="{{entry.public_id}}" class="select-checkbox" type="checkbox" (click)="updateDisplay()">
      </td>
      <td><cmdb-active-badge [activeStatus]="entry.active"></cmdb-active-badge></td>
      <td>{{entry.public_id}}</td>
      <td>{{entry.label}}</td>
      <td>{{userService?.findUser(entry.author_id).user_name }}</td>
      <td>{{entry.creation_time.$date | date:"dd/MM/yy - hh:mm:ss"}}</td>

      <!-- action buttons -->
      <td>
        <!-- view -->
        <a class="text-dark"
           *ngIf="entry.type_id !== undefined"
           routerLink="/framework/{{linkRoute}}/view/{{entry.public_id}}">
          <i class="fa fa-eye" aria-hidden="true"></i>
        </a>
        <!-- edit -->
        <a class="ml-1 text-dark" routerLink="/framework/{{linkRoute}}edit/{{entry.public_id}}">
          <i class="fa fa-pencil-square-o" aria-hidden="true"></i>
        </a>
        <!-- delete -->
        <a class="ml-1 text-dark" *ngIf="entry.type_id === undefined"
           routerLink="/framework/type/delete/{{entry.public_id}}">
          <i class="fa fa-trash-o" aria-hidden="true"></i>
        </a>
        <a class="ml-1 text-dark" *ngIf="entry.type_id !== undefined">
          <i class="fa fa-trash-o" aria-hidden="true" (click)="delObject(entry)"></i>
        </a>
      </td>
    </tr>
    </tbody>
  </table>

